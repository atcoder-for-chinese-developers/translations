---
title: "<ABC277_Ex_translation>"
tags: [ "构造", "2-sat" ]
author: "<houzhiyuan>"
created: "<2022.11.12>"
---

<!-- 以上内容在发布时会被删除，并以 JSON 格式写入 list.json -->

<!-- 下面是正文 -->

### 题意

构造一个长度为 $N$ 的序列 $X=(X_1,X_2,...,X_N)$ 满足以下条件：

- 对于所有 $1\le i\le N$，满足 $0\le X_i\le M$。
- 对于所有 $1\le i\le Q$ ，满足 $L_i\le X_{A_i}+X_{B_i}\le R_i$。

### 数据范围

- $1\le N,Q\le 10000$
- $1\le M\le 100$
- $1\le A_i,B_i\le N$
- $0\le L_i\le R_i \le 2\times M$

---

### 输入格式

第一行三个数 $N,M,Q$。

接下来 $Q$ 行，每行 $4$ 个数 $A_i,B_i,L_i,R_i$，表示一组限制。

### 输出格式

如果无解，输出 `-1`。

否则输出一行 $N$ 个数，表示构造出的 $X$ 序列，如果有多个答案，输出任意一个。

---

### 样例输入1

```
4 5 3
1 3 5 7
1 4 1 2
2 2 3 8
```

### 样例输出1

```
2 4 3 0
```

### 样例解释1

$X_1+X_3=5,X_1+X_4=2,X_2+X_2=8$ 满足所有条件。

其他一些序列比如 $X=(0,2,5,2),X=(1,3,4,1)$ 同样满足条件。

---

### 样例输入2

```
3 7 3
1 2 3 4
3 1 9 12
2 3 2 4
```

### 样例输出2

```
-1
```
